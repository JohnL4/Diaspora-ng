* Validating XML against a schema

** Example: XML generated by Diaspora cluster generator.

   #+BEGIN_SRC xml
     <?xml version="1.0"?>
     <cluster xmlns="http://www.how-hard-can-it-be.com/diaspora/cluster"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://www.how-hard-can-it-be.com/diaspora/cluster/cluster.xsd">
       <starSystem id="Alpha" technology="2" environment="1" resources="-1"/>
       <starSystem id="Bravo" technology="1" environment="-1" resources="-2"/>
       <starSystem id="Charlie" technology="-3" environment="-1" resources="-3"/>
       <starSystem id="Delta" technology="0" environment="-2" resources="1"/>
     </cluster>
   #+END_SRC 

** Schema

   #+BEGIN_SRC xml
     <?xml version="1.0"?>
     <schema xmlns="http://www.w3.org/2001/XMLSchema"
             xmlns:cluster="http://www.how-hard-can-it-be.com/diaspora/cluster"
             targetNamespace="http://www.how-hard-can-it-be.com/diaspora/cluster"
             elementFormDefault="qualified"
             >

       <annotation>
         <documentation>
           Diaspora cluster schema
         </documentation>
       </annotation>

       <element name="cluster">
         <complexType>
           <sequence>
           <element name="starSystem" maxOccurs="unbounded">
             <complexType>
               <attribute name="id" type="ID" use="required"/>
               <attribute name="technology" type="cluster:fateThrow" use="required"/>
               <attribute name="environment" type="cluster:fateThrow" use="required"/>
               <attribute name="resources" type="cluster:fateThrow" use="required"/>
             </complexType>
           </element>
           </sequence>
         </complexType>
       </element>
      
       <simpleType name="fateThrow">
         <annotation>
           <documentation>
             A Fate throw in the range [-4,4]; equivalent to 4d3-8.
           </documentation>
         </annotation>
         <restriction base="integer">
           <minInclusive value="-4"/>
           <maxInclusive value="4"/>
         </restriction>
       </simpleType>
  
     </schema>
   #+END_SRC 

** Validation

* Writing a schema
* Using a schema
